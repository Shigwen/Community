{% extends 'base.html.twig' %}

{% block title %}Hello RaidController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
	<h4> Infos du raid </h4>
	<p>Code : {{ raid.identifier }}</p>
	<p>Nom : {{ raid.name }}</p>
	<p>Nombre de joueurs attendu : {{ raid.expectedAttendee }}</p>
	<p>Min tank : {{ raid.minTank }}</p>
	<p>Max tank : {{ raid.maxTank }}</p>
	<p>Min heal : {{ raid.minHeal }}</p>
	<p>Max heal : {{ raid.maxHeal }}</p>
	<p>
		Accepter automatiquement les inscriptions :
		{% if raid.autoAccept %}
			Oui
		{% else %}
			Non
		{% endif %}
	</p>
	<p>DÃ©but du raid : {{ raid.startAt|date("d/m/Y h:i") }}</p>
	<p>Fin du raid : {{ raid.endAt|date("d/m/Y h:i") }}</p>
	<p>Informations : {{ raid.information }}</p>

	<hr>
	<h4> Personnages inscrit : </h4>
	<table>
		<thead>
			<tr>
				<th>Name</th>
				<th>Class</th>
				<th>Role</th>
				<th>Information</th>
			</tr>
		</thead>
		<tbody>
			{% for raidCharacter in charactersAccepted %}
				<tr>
					<td>{{ raidCharacter.userCharacter.name }}</td>
					<td>{{ raidCharacter.userCharacter.characterClass.name }}</td>
					<td>{{ raidCharacter.role.name }}</td>
					<td>{{ raidCharacter.userCharacter.information }}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	{% if charactersWaiting is not empty %}
	<hr>
	<h4> Personnages en attente de confirmation : </h4>
	<table>
		<thead>
			<tr>
				<th>Name</th>
				<th>Class</th>
				<th>Role</th>
				<th>Information</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			{% for raidCharacter in charactersWaiting %}
				<tr>
					<td>{{ raidCharacter.userCharacter.name }}</td>
					<td>{{ raidCharacter.userCharacter.characterClass.name }}</td>
					<td>{{ raidCharacter.role.name }}</td>
					<td>{{ raidCharacter.userCharacter.information }}</td>
					<td>Accepter / refuser</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
	{% endif %}

	<hr>
	<a href="{{ path('raidleader_raid_edit', {id: raid.id})}}">Modifier</a>
	<a href="{{ path('raidleader_raid_delete', {id: raid.id})}}">Supprimer</a>
</div>
{% endblock %}
