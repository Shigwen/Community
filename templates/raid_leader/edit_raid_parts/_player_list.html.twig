{% if raid.isAutoAccept == false %}
    {% if playersWaitingConfirmation|length > 0 %}
        <p class="h4 mb-3 mt-5 text-center"> Players in waiting </p>
        <div class="row d-flex justify-content-around">
            <div class="col-12 col-md-11 p-0">
                <table class="table table-striped table-bordered table-hover table-dark">
                    <thead class="text-center">
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Class</th>
                            <th scope="col" class="d-none d-md-table-cell">Role</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>

                    <tbody class="text-center">
                        {% for raidCharacter in playersWaitingConfirmation %}
                            <tr>
                                <td>{{ raidCharacter.userCharacter.name }}</td>
                                <td>
                                    <img src="{{ raidCharacter.userCharacter.characterClass.imageSource }}" 
                                    width="40" height="40" alt="{{ raidCharacter.userCharacter.characterClass.name }}">
                                </td>
                                <td>
                                    <img src="{{ raidCharacter.role.imageSource }}" 
                                    width="40" height="40" alt="{{ raidCharacter.role.name }}">
                                </td>
                                <td>
                                    <a class="text-primary text-decoration-none" 
                                    data-toggle="modal" data-target="#detailsCharacter_{{ raidCharacter.userCharacter.id }}"
                                    data-bs-toggle="tooltip" data-placement="top" title="Info">
                                        <i class="fas fa-info"></i>
                                    </a>
                                    {{ include('event/modal/_character_information.html.twig') }}
                                    <a class="text-success text-decoration-none ml-2" href="{{ path('raidleader_manage_participant_accept_or_refuse', {raid_id: raid.id, character_id: raidCharacter.userCharacter.id }) }}?status={{ constant('App\\Entity\\RaidCharacter::ACCEPT') }}"
                                    data-bs-toggle="tooltip" data-placement="top" title="Accept">
                                        <i class="fas fa-user-check"></i>
                                    </a>
                                    <a class="text-danger text-decoration-none ml-2"
                                    data-bs-toggle="tooltip" data-placement="top" title="Refuse"
                                    onclick="confirmModal('Refuse character {{ raidCharacter.userCharacter.name }} in your raid', 'Are you sure ?', '{{ path('raidleader_manage_participant_accept_or_refuse', {raid_id: raid.id, character_id: raidCharacter.userCharacter.id }) }}?status={{ constant('App\\Entity\\RaidCharacter::REFUSED') }}' )">
                                        <i class="fas fa-user-times"></i>
                                    </a>
                                    <a class="text-danger text-decoration-none ml-2"
                                    data-bs-toggle="tooltip" data-placement="top" title="Ban this player from future raid"
                                    onclick="confirmModal('Ban user {{ raidCharacter.userCharacter.user.name }}', 'Are you sure ?', '{{ path('raidleader_manage_participant_ban_hammer', {id: raidCharacter.userCharacter.user.id }) }}?raid={{ raid.id }}' )">
                                        <i class="fas fa-gavel"></i>
                                    </a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
{% endif %}

<p class="h4 mb-3 mt-5 text-center"> Validated players </p>
<div class="row d-flex justify-content-around">
    <div class="col-12 col-md-11 p-0">
        <table class="table table-striped table-bordered table-hover table-dark">
            <thead class="text-center">
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Class</th>
                    <th scope="col" class="d-none d-md-table-cell">Role</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>

            <tbody class="text-center">
                {% for raidCharacter in playersValidated %}
                    <tr>
                        <td>{{ raidCharacter.userCharacter.name }}</td>
                        <td>
                            <img src="{{ raidCharacter.userCharacter.characterClass.imageSource }}" 
                            width="40" height="40" alt="{{ raidCharacter.userCharacter.characterClass.name }}">
                        </td>
                        <td>
                            <img src="{{ raidCharacter.role.imageSource }}" 
                            width="40" height="40" alt="{{ raidCharacter.role.name }}">
                        </td>
                        <td>
                            <a class="text-info text-decoration-none" 
                                data-toggle="modal" data-target="#detailsCharacter_{{ raidCharacter.userCharacter.id }}"
                                data-bs-toggle="tooltip" data-placement="top" title="Info">
                                <i class="fas fa-info"></i>
                            </a>
                            {{ include('event/modal/_character_information.html.twig') }}
                            {% if raidCharacter.isCharacterFromUser(raidCharacter.raid.user) == false %}
                                <a class="text-danger text-decoration-none ml-2"
                                    data-bs-toggle="tooltip" data-placement="top" title="Refuse"
                                    onclick="confirmModal('Refuse character {{ raidCharacter.userCharacter.name }} in your raid', 'Are you sure ?', '{{ path('raidleader_manage_participant_accept_or_refuse', {raid_id: raid.id, character_id: raidCharacter.userCharacter.id }) }}?status={{ constant('App\\Entity\\RaidCharacter::REFUSED') }}' )">
                                    <i class="fas fa-user-times"></i>
                                </a>
                                <a class="text-danger text-decoration-none ml-2"
                                    data-bs-toggle="tooltip" data-placement="top" title="Ban this player from future raid"
                                    onclick="confirmModal('Ban user {{ raidCharacter.userCharacter.user.name }}', 'Are you sure ?', '{{ path('raidleader_manage_participant_ban_hammer', {id: raidCharacter.userCharacter.user.id }) }}?raid={{ raid.id }}' )">
                                    <i class="fas fa-gavel"></i>
                                </a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% if playersRefused|length > 0 %}
    <p class="h4 mb-3 mt-5 text-center"> Players refused </p>
    <div class="row d-flex justify-content-around">
        <div class="col-12 col-md-11 p-0">
            <table class="table table-striped table-bordered table-hover table-dark">
                <thead class="text-center">
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Class</th>
                        <th scope="col" class="d-none d-md-table-cell">Role</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>

                <tbody class="text-center">
                    {% for raidCharacter in playersRefused %}
                        {% if user.hasBlocked(raidCharacter.userCharacter.user) == false %}
                            <tr style="background-color: rgb(255 24 0 / 10%);">
                                <td>{{ raidCharacter.userCharacter.name }}</td>
                                <td>
                                    <img src="{{ raidCharacter.userCharacter.characterClass.imageSource }}" 
                                    width="40" height="40" alt="{{ raidCharacter.userCharacter.characterClass.name }}">
                                </td>
                                <td>
                                    <img src="{{ raidCharacter.role.imageSource }}" 
                                    width="40" height="40" alt="{{ raidCharacter.role.name }}">
                                </td>
                                <td>
                                    <a class="text-info text-decoration-none" 
                                    data-toggle="modal" data-target="#detailsCharacter_{{ raidCharacter.userCharacter.id }}"
                                    data-bs-toggle="tooltip" data-placement="top" title="Info">
                                        <i class="fas fa-info"></i>
                                    </a>
                                    {{ include('event/modal/_character_information.html.twig') }}
                                    <a class="text-success text-decoration-none ml-2" href="{{ path('raidleader_manage_participant_accept_or_refuse', {raid_id: raid.id, character_id: raidCharacter.userCharacter.id }) }}?status={{ constant('App\\Entity\\RaidCharacter::ACCEPT') }}"
                                    data-bs-toggle="tooltip" data-placement="top" title="Accept">
                                        <i class="fas fa-user-check"></i>
                                    </a>
                                    <a class="text-danger text-decoration-none ml-2"
                                    data-bs-toggle="tooltip" data-placement="top" title="Ban this player from future raid"
                                    onclick="confirmModal('Ban user {{ raidCharacter.userCharacter.user.name }}', 'Are you sure ?', '{{ path('raidleader_manage_participant_ban_hammer', {id: raidCharacter.userCharacter.user.id }) }}?raid={{ raid.id }}' )">
                                        <i class="fas fa-gavel"></i>
                                    </a>
                                </td>
                            </tr>
                        {% endif %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endif %}