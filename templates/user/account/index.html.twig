{% extends 'base.html.twig' %}

{% block title %}Hello AccountController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <span>Infos perso : </span>
	<a href="{{ path('user_account_edit')}}">Modifier</a>
    <p>email : {{ user.email }}</p>
</div>

<hr>
<div class="example-wrapper">
    <span>Liste des personnages : </span>
	<a href="{{ path('user_character_add')}}">Ajouter</a>

	<table>
		<thead>
			<tr>
				<th>Nom</th>
				<th>Classe</th>
				<th>Rôles</th>
				<th>Serveur</th>
				<th>Informations</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				{% for character in user.characters %}
				<td>{{ character.name }}</td>
				<td>{{ character.characterClass.name }}</td>
				<td>{{ character.strRoles }}</td>
				<td>{{ character.server.name }}</td>
				<td>{{ character.information }}</td>
				<td>
					<a href="{{ path('user_character_edit', {id: character.id})}}">Modifier</a>
					<a href="{{ path('user_character_delete', {id: character.id})}}">Supprimer</a>
				</td>
				{% endfor %}
			</tr>
		</tbody>
	</table>
</div>

{% if is_granted('ROLE_RAID_LEADER') %}
<hr>
<div>
    <span>Liste des raids : </span>
	<a href="{{ path('raidleader_raid_add')}}">Ajouter</a>
	<table>
		<thead>
			<tr>
				<th>Code</th>
				<th>Name</th>
				<th>Type</th>
				<th>Nbr joueur attendu</th>
				<th>Min tank</th>
				<th>Max tank</th>
				<th>Min heal</th>
				<th>Max heal</th>
				<th>Min dps</th>
				<th>Max dps</th>
				<th>Auto accept</th>
				<th>Début</th>
				<th>Fin</th>
				<th>Informations</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				{% for raid in user.raids %}
				<td>{{ raid.identifier }}</td>
				<td>{{ raid.name }}</td>
				<td>{{ raid.expectedAttendee }}</td>
				<td>{{ raid.minTank }}</td>
				<td>{{ raid.maxTank }}</td>
				<td>{{ raid.minHeal }}</td>
				<td>{{ raid.maxHeal }}</td>
				<td>{{ raid.minDps }}</td>
				<td>{{ raid.maxDps }}</td>
				<td>{{ raid.autoAccept }}</td>
				<td>{{ raid.start }}</td>
				<td>{{ raid.end }}</td>
				<td>{{ raid.information }}</td>
				<td>
					<a href="{{ path('raidleader_raid_edit', {id: raid.id})}}">Modifier</a>
					<a href="{{ path('raidleader_raid_delete', {id: raid.id})}}">Supprimer</a>
				</td>
				{% endfor %}
			</tr>
		</tbody>
	</table>
</div>
{% endif %}
{% endblock %}
